<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mapa de la Isla - Visualizador Interactivo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="theme-color" content="#0a0a0a" />
  </head>
  <body
    class="min-h-screen bg-zinc-950 text-zinc-100 grid grid-rows-[auto_1fr_auto] w-full"
  >
    <!-- Header -->
    <header
      class="w-full border-b border-zinc-800 bg-gradient-to-b from-zinc-900 to-zinc-950 px-4 md:px-6 lg:px-8"
    >
      <div class="mx-auto w-full py-3 flex items-center justify-between gap-3">
        <h1 class="text-base font-semibold tracking-wide">
          üó∫Ô∏è Mapa de la Isla ‚Äì Visualizador Interactivo
        </h1>
        <div class="flex items-center gap-2 flex-wrap">
          <button id="zoomOut" class="btn-ghost" title="Alejar">‚àí</button>
          <span
            id="zoomLabel"
            aria-live="polite"
            class="inline-flex min-w-16 justify-center text-sm opacity-85"
            >100%</span
          >
          <button id="zoomIn" class="btn-ghost" title="Acercar">Ôºã</button>
          <button id="zoomReset" class="btn-ghost" title="Restablecer zoom">
            Reset
          </button>
        </div>
      </div>
    </header>

    <!-- Main (apilado por defecto; 2 columnas solo en ‚â•lg) -->
    <main
      class="mx-auto w-full p-4 grid gap-4 grid-cols-1 lg:[grid-template-columns:minmax(0,1fr)_360px] items-start"
    >
      <!-- Mapa -->
      <div
        id="stage"
        role="application"
        aria-label="Mapa interactivo"
        class="relative mx-auto w-full max-w-[70%] min-h-80 max-h-[95vh] overflow-hidden rounded-2xl border border-zinc-800 bg-zinc-900 shadow-[0_10px_30px_rgba(0,0,0,.45)]"
      >
        <div
          id="scaleLayer"
          class="relative [transform-origin:top_left] select-none"
        >
          <img
            id="mapImage"
            alt="Mapa de la isla"
            src="https://i.postimg.cc/Y0bwB3xB/temp-Imagea-Yb1ce.avif"
            class="block w-full h-auto pointer-events-none object-contain"
          />
        </div>
        <!-- Marcadores se inyectan aqu√≠ -->
      </div>

      <!-- Sidebar (debajo en m√≥viles/tablets, a la derecha en desktop) -->
      <aside
        id="sidebar"
        class="rounded-2xl border border-zinc-800 bg-neutral-900/80 p-3 max-h-[78vh] overflow-auto"
      >
        <h2 class="text-sm font-semibold">Puntos de inter√©s</h2>
        <p class="text-zinc-400 text-xs">
          Selecciona un marcador en el mapa o desde la lista.
        </p>
        <div id="poiList" class="grid gap-1.5 my-3" aria-live="polite"></div>

        <section id="poiDetail" class="hidden">
          <div class="h-px w-full bg-zinc-800 my-3"></div>
          <h3 id="detailName" class="text-base font-semibold"></h3>
          <div class="mt-1 text-xs text-zinc-400" id="detailMeta"></div>
          <div id="detailTags" class="mt-2 flex flex-wrap gap-1.5"></div>
          <p
            id="detailLong"
            class="mt-3 text-sm leading-relaxed text-zinc-200"
          ></p>
        </section>
      </aside>
    </main>

    <footer
      class="border-t border-zinc-800 text-zinc-400 px-4 md:px-6 lg:px-8 py-3 text-xs"
    >
      En desktop: panel a la derecha. En tablets/m√≥viles: panel debajo del mapa.
      Usa Ôºã/‚àí/Reset para el zoom.
    </footer>

    <style>
      .btn-ghost {
        @apply inline-flex items-center justify-center rounded-xl border border-zinc-800 bg-zinc-900 px-3 py-2 text-sm font-semibold transition
               hover:bg-zinc-800/80 hover:border-zinc-700 active:translate-y-px active:scale-[.98];
      }
      .marker {
        position: absolute;
        left: 0;
        top: 0;
        transform: translate(-50%, -50%);
      }
      .marker .marker-dot {
        width: 18px;
        height: 18px;
        border-radius: 9999px;
        border: 2px solid #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
        transform-origin: center;
        transition: box-shadow 0.2s ease, border-color 0.2s ease;
      }
      .marker.selected .marker-dot {
        border-color: rgb(56 189 248);
        box-shadow: 0 0 0 6px rgba(56, 189, 248, 0.2);
      }
      .tooltip {
        position: absolute;
        bottom: 24px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(20, 20, 20, 0.92);
        color: #e9eaee;
        padding: 6px 10px;
        border-radius: 6px;
        white-space: nowrap;
        font-size: 13px;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.2s ease;
      }
      .marker:hover .tooltip {
        opacity: 1;
      }
    </style>

    <!-- Tu JS separado -->
    <script src="script.js"></script>
  </body>
</html>
